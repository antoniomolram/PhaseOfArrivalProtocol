<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MiXiM: Move Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Move Class Reference<br/>
<small>
[<a class="el" href="a00453.html">baseUtils - utilities for base MiXiM</a>,&nbsp;<a class="el" href="a00449.html">utils  -  utility classes</a>]</small>
</h1><!-- doxytag: class="Move" -->
<p>Class to store object position and movement.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00289_source.html">Move.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Move:</div>
<div class="dynsection">
<div class="center"><img src="a00687.png" border="0" usemap="#Move_coll__map" alt="Collaboration graph"/></div>
<map name="Move_coll__map" id="Move_coll__map">
<area shape="rect" href="a00062.html" title="Class for storing 3D coordinates." alt="" coords="5,5,61,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="a00688.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a233b069152737d031dec49095115cd44"></a><!-- doxytag: member="Move::Move" ref="a233b069152737d031dec49095115cd44" args="(const Move &amp;mSrc)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Move</b> (const <a class="el" href="a00127.html">Move</a> &amp;mSrc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3db12757bf11ac7f025b2496d09e4941"></a><!-- doxytag: member="Move::getSpeed" ref="a3db12757bf11ac7f025b2496d09e4941" args="() const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a3db12757bf11ac7f025b2496d09e4941">getSpeed</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current speed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af80f74d5fc42ec7fcedf9940c9d01655"></a><!-- doxytag: member="Move::setSpeed" ref="af80f74d5fc42ec7fcedf9940c9d01655" args="(double speed)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#af80f74d5fc42ec7fcedf9940c9d01655">setSpeed</a> (double <a class="el" href="a00127.html#ac84984d8a41ce30da0a32b049ff07552">speed</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the current speed in meters per second. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeab90c9059a2c9214e491a58833b3c3c"></a><!-- doxytag: member="Move::getStartPos" ref="aeab90c9059a2c9214e491a58833b3c3c" args="() const " -->
const <a class="el" href="a00062.html">Coord</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#aeab90c9059a2c9214e491a58833b3c3c">getStartPos</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the start position. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64e0b58f28e14c338c64548f6559c08f"></a><!-- doxytag: member="Move::getStartTime" ref="a64e0b58f28e14c338c64548f6559c08f" args="() const " -->
simtime_t_cref&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a64e0b58f28e14c338c64548f6559c08f">getStartTime</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns start time, i.e. time point of the start at start position. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a385a1d6229f2490fdbe26f9266f29188"></a><!-- doxytag: member="Move::setStart" ref="a385a1d6229f2490fdbe26f9266f29188" args="(const Coord &amp;startPos, simtime_t_cref startTime)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a385a1d6229f2490fdbe26f9266f29188">setStart</a> (const <a class="el" href="a00062.html">Coord</a> &amp;<a class="el" href="a00127.html#a84550b4f702ceed03c516754d17950f9">startPos</a>, simtime_t_cref <a class="el" href="a00127.html#acffecfba78dc80213910498f1afd7cb6">startTime</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets start position (components in meters) and start time. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8205e35a3bb42f18da9a3ff7df19c7c"></a><!-- doxytag: member="Move::setStart" ref="ab8205e35a3bb42f18da9a3ff7df19c7c" args="(const Coord &amp;startPos)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#ab8205e35a3bb42f18da9a3ff7df19c7c">setStart</a> (const <a class="el" href="a00062.html">Coord</a> &amp;<a class="el" href="a00127.html#a84550b4f702ceed03c516754d17950f9">startPos</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets start position to passed value (components in meters), start time will be set to current simulation-time. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13cf0bb336db329a2033506d739c834f"></a><!-- doxytag: member="Move::getDirection" ref="a13cf0bb336db329a2033506d739c834f" args="() const " -->
const <a class="el" href="a00062.html">Coord</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a13cf0bb336db329a2033506d739c834f">getDirection</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the direction vector (which is unit less, because of normalization). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1700ddcd2a41917a29747abaf2aee294"></a><!-- doxytag: member="Move::setDirectionByVector" ref="a1700ddcd2a41917a29747abaf2aee294" args="(const Coord &amp;direction)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a1700ddcd2a41917a29747abaf2aee294">setDirectionByVector</a> (const <a class="el" href="a00062.html">Coord</a> &amp;<a class="el" href="a00127.html#a727f186f109f662811b76aa19dcb58da">direction</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the direction to the passed vector, which must be already normalized or the 0-vector. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#ab9947e462db3ca2ce5d21015770655c0">setDirectionByTarget</a> (const <a class="el" href="a00062.html">Coord</a> &amp;target)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the direction to the normalized vector pointing from the current start position to the passed target point.  <a href="#ab9947e462db3ca2ce5d21015770655c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="a00062.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a170899b061efdeb55ead25e17bd88b8d">getPositionAt</a> (simtime_t_cref actualTime=simTime()) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the position of the <a class="el" href="a00127.html" title="Class to store object position and movement.">Move</a> (Host) at the specified point in time. It is intended to be passed simTime() as actualTime and returns the actual position.  <a href="#a170899b061efdeb55ead25e17bd88b8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3bceb166e7924c6ea1620b633b1192d"></a><!-- doxytag: member="Move::getCurrentPosition" ref="ae3bceb166e7924c6ea1620b633b1192d" args="() const " -->
virtual const <a class="el" href="a00062.html">Coord</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>getCurrentPosition</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0287300e9580229fdd0c4c2c13e9527d"></a><!-- doxytag: member="Move::info" ref="a0287300e9580229fdd0c4c2c13e9527d" args="() const " -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a0287300e9580229fdd0c4c2c13e9527d">info</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns information about the current state. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84550b4f702ceed03c516754d17950f9"></a><!-- doxytag: member="Move::startPos" ref="a84550b4f702ceed03c516754d17950f9" args="" -->
<a class="el" href="a00062.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a84550b4f702ceed03c516754d17950f9">startPos</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start position of the host (in meters). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af933f6fb06f158e628d5b11c839ebbc2"></a><!-- doxytag: member="Move::lastPos" ref="af933f6fb06f158e628d5b11c839ebbc2" args="" -->
<a class="el" href="a00062.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#af933f6fb06f158e628d5b11c839ebbc2">lastPos</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last position which was set. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acffecfba78dc80213910498f1afd7cb6"></a><!-- doxytag: member="Move::startTime" ref="acffecfba78dc80213910498f1afd7cb6" args="" -->
simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#acffecfba78dc80213910498f1afd7cb6">startTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">start time at which host started at startPos <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a727f186f109f662811b76aa19dcb58da"></a><!-- doxytag: member="Move::direction" ref="a727f186f109f662811b76aa19dcb58da" args="" -->
<a class="el" href="a00062.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#a727f186f109f662811b76aa19dcb58da">direction</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">direction the host is moving to, must be normalized <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac84984d8a41ce30da0a32b049ff07552"></a><!-- doxytag: member="Move::speed" ref="ac84984d8a41ce30da0a32b049ff07552" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00127.html#ac84984d8a41ce30da0a32b049ff07552">speed</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">speed of the host in meters per second <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class to store object position and movement. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Andreas Koepke, Michael Swigulski </dd></dl>

<p>Definition at line <a class="el" href="a00289_source.html#l00039">39</a> of file <a class="el" href="a00289_source.html">Move.h</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a170899b061efdeb55ead25e17bd88b8d"></a><!-- doxytag: member="Move::getPositionAt" ref="a170899b061efdeb55ead25e17bd88b8d" args="(simtime_t_cref actualTime=simTime()) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a00062.html">Coord</a> Move::getPositionAt </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>actualTime</em> = <code>simTime()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the position of the <a class="el" href="a00127.html" title="Class to store object position and movement.">Move</a> (Host) at the specified point in time. It is intended to be passed simTime() as actualTime and returns the actual position. </p>
<p>Assumes that direction represents a normalized vector (length equals 1.0). Further this function does not check whether the given time point is before the startTime of the actual move pattern. So in this case one might obtain an unintended result. </p>

<p>Definition at line <a class="el" href="a00289_source.html#l00165">165</a> of file <a class="el" href="a00289_source.html">Move.h</a>.</p>

<p>References <a class="el" href="a00284_source.html#l00113">FWMath::close()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00166"></a>00166     {
<a name="l00167"></a>00167       <span class="comment">// if speed is very close to 0.0, the host is practically standing still</span>
<a name="l00168"></a>00168       <span class="keywordflow">if</span> ( <a class="code" href="a00092.html#a38d2500887b49de2a2b5f8610f7ba6d1">FWMath::close</a>(<a class="code" href="a00127.html#ac84984d8a41ce30da0a32b049ff07552" title="speed of the host in meters per second">speed</a>, 0.0) ) <span class="keywordflow">return</span> <a class="code" href="a00127.html#a84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a>;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170       <span class="comment">// otherwise: actualPos = startPos + ( direction * v * t )</span>
<a name="l00171"></a>00171       <span class="keywordflow">return</span> <a class="code" href="a00127.html#a84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a> + ( <a class="code" href="a00127.html#a727f186f109f662811b76aa19dcb58da" title="direction the host is moving to, must be normalized">direction</a> * <a class="code" href="a00127.html#ac84984d8a41ce30da0a32b049ff07552" title="speed of the host in meters per second">speed</a> * SIMTIME_DBL(actualTime - <a class="code" href="a00127.html#acffecfba78dc80213910498f1afd7cb6" title="start time at which host started at startPos">startTime</a>) );
<a name="l00172"></a>00172     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab9947e462db3ca2ce5d21015770655c0"></a><!-- doxytag: member="Move::setDirectionByTarget" ref="ab9947e462db3ca2ce5d21015770655c0" args="(const Coord &amp;target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Move::setDirectionByTarget </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00062.html">Coord</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>target</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the direction to the normalized vector pointing from the current start position to the passed target point. </p>
<p>NOTE: The target point must not be the current start position or too close to it. </p>

<p>Definition at line <a class="el" href="a00289_source.html#l00147">147</a> of file <a class="el" href="a00289_source.html">Move.h</a>.</p>

<p>References <a class="el" href="a00284_source.html#l00113">FWMath::close()</a>, and <a class="el" href="a00282_source.html#l00207">Coord::length()</a>.</p>

<p>Referenced by <a class="el" href="a00359_source.html#l00027">LineSegmentsMobilityBase::beginNextMove()</a>, <a class="el" href="a00373_source.html#l00085">TractorMobility::calculateXY()</a>, <a class="el" href="a00371_source.html#l00101">RectangleMobility::calculateXY()</a>, <a class="el" href="a00361_source.html#l00076">MassMobility::handleSelfMsg()</a>, <a class="el" href="a00361_source.html#l00036">MassMobility::initialize()</a>, <a class="el" href="a00357_source.html#l00067">LinearMobility::makeMove()</a>, <a class="el" href="a00353_source.html#l00059">CircleMobility::makeMove()</a>, and <a class="el" href="a00355_source.html#l00064">ConstSpeedMobility::setTargetPosition()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00148"></a>00148   {
<a name="l00149"></a>00149       <a class="code" href="a00127.html#a727f186f109f662811b76aa19dcb58da" title="direction the host is moving to, must be normalized">direction</a> = target - <a class="code" href="a00127.html#a84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       assert( !<a class="code" href="a00092.html#a38d2500887b49de2a2b5f8610f7ba6d1">FWMath::close</a>(<a class="code" href="a00127.html#a727f186f109f662811b76aa19dcb58da" title="direction the host is moving to, must be normalized">direction</a>.<a class="code" href="a00062.html#acc536671c07e1af44e6ad9676a6c39ad" title="Returns the length of this Coords position vector.">length</a>(), 0.0) );
<a name="l00152"></a>00152       <a class="code" href="a00127.html#a727f186f109f662811b76aa19dcb58da" title="direction the host is moving to, must be normalized">direction</a> /= <a class="code" href="a00127.html#a727f186f109f662811b76aa19dcb58da" title="direction the host is moving to, must be normalized">direction</a>.<a class="code" href="a00062.html#acc536671c07e1af44e6ad9676a6c39ad" title="Returns the length of this Coords position vector.">length</a>();
<a name="l00153"></a>00153     }
</pre></div></p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/base/utils/<a class="el" href="a00289_source.html">Move.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Dec 14 16:01:50 2011 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
