<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MiXiM: ChannelInfo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ChannelInfo Class Reference<br/>
<small>
[<a class="el" href="a00445.html">phyLayer - physical layer modules</a>]</small>
</h1><!-- doxytag: class="ChannelInfo" -->
<p>This class is used by the <a class="el" href="a00026.html" title="The BasePhyLayer represents the physical layer of a nic.">BasePhyLayer</a> to keep track of the AirFrames on the channel.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00262_source.html">ChannelInfo.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ChannelInfo:</div>
<div class="dynsection">
<div class="center"><img src="a00544.png" border="0" usemap="#ChannelInfo_coll__map" alt="Collaboration graph"/></div>
<map name="ChannelInfo_coll__map" id="ChannelInfo_coll__map">
<area shape="rect" href="a00020.html" title="Iterator for every intersection of a specific interval in a AirFrameMatrix." alt="" coords="5,5,400,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="a00545.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00020.html">BaseIntersectionIterator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterator for every intersection of a specific interval in a AirFrameMatrix.  <a href="a00020.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html">c_min_start_time_fctr</a></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef AirFrame *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::list&lt; <a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">AirFrameVector</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type for a container of AirFrames.  <a href="#a220306dd8d5282778f27be702d193431"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a6d92d233abde2703171773354c8689cd">addAirFrame</a> (<a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> a, simtime_t_cref startTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> that an AirFrame has started.  <a href="#a6d92d233abde2703171773354c8689cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a16107643c07807685a44fc9271c9d9fd">removeAirFrame</a> (<a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> a, simtime_t_cref returnTimeIfEmpty=-1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> that an AirFrame is over.  <a href="#a16107643c07807685a44fc9271c9d9fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a76e9891245a5df7dd6bfb14e99e343e5">getAirFrames</a> (simtime_t_cref from, simtime_t_cref to, <a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">AirFrameVector</a> &amp;out) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fills the passed AirFrameVector reference with the AirFrames which intersect with the given time interval.  <a href="#a76e9891245a5df7dd6bfb14e99e343e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9517472d22523639b7f894052549943f"></a><!-- doxytag: member="ChannelInfo::getEarliestInfoPoint" ref="a9517472d22523639b7f894052549943f" args="(simtime_t_cref returnTimeIfEmpty=&#45;1) const " -->
simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a9517472d22523639b7f894052549943f">getEarliestInfoPoint</a> (simtime_t_cref returnTimeIfEmpty=-1) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current time-point from that information concerning AirFrames is needed to be stored. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#abab4a17344f3b254693ed34309c6466f">startRecording</a> (simtime_t_cref start)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> to keep from now on all channel information until the passed time in history.  <a href="#abab4a17344f3b254693ed34309c6466f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a884277584d1abf73eaca5df0c61e08c9">stopRecording</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> to stop recording Information from now on.  <a href="#a884277584d1abf73eaca5df0c61e08c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a5b1b8d56aa2fa64b5d79c0cf5c3167a9">isRecording</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> is currently recording.  <a href="#a5b1b8d56aa2fa64b5d79c0cf5c3167a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5af012c57b6bb9930b1634138ab65bf8"></a><!-- doxytag: member="ChannelInfo::isChannelEmpty" ref="a5af012c57b6bb9930b1634138ab65bf8" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a5af012c57b6bb9930b1634138ab65bf8">isChannelEmpty</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if there are currently no active or inactive AirFrames on the channel. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; simtime_t, <br class="typebreak"/>
std::multimap&lt; simtime_t, <br class="typebreak"/>
<a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a684323fb3bd48d29674f5b14d7ce2f02"></a><!-- doxytag: member="ChannelInfo::const_iterator" ref="a684323fb3bd48d29674f5b14d7ce2f02" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="a00020.html">BaseIntersectionIterator</a><br class="typebreak"/>
&lt; const <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a>, <br class="typebreak"/>
AirFrameMatrix::const_iterator, <br class="typebreak"/>
AirFrameMatrix::mapped_type::const_iterator &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a684323fb3bd48d29674f5b14d7ce2f02">const_iterator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type for a const-iterator over an AirFrame interval matrix. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afef8a1ed99d3d6ea005c5cc358dbbbbc"></a><!-- doxytag: member="ChannelInfo::iterator" ref="afef8a1ed99d3d6ea005c5cc358dbbbbc" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="a00020.html">BaseIntersectionIterator</a><br class="typebreak"/>
&lt; <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a>, <br class="typebreak"/>
AirFrameMatrix::iterator, <br class="typebreak"/>
AirFrameMatrix::mapped_type::iterator &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#afef8a1ed99d3d6ea005c5cc358dbbbbc">iterator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type for a iterator over an AirFrame interval matrix. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03476c3a3c992f5e8bb099312e601c6a"></a><!-- doxytag: member="ChannelInfo::AirFrameStartMap" ref="a03476c3a3c992f5e8bb099312e601c6a" args="" -->
typedef std::map&lt; long, simtime_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a03476c3a3c992f5e8bb099312e601c6a">AirFrameStartMap</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type for a map of AirFrame pointers to their start time. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00020.html">const_iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#aa372e681d453fa1725e81793cdfb4182">end</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00020.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a8afa15fedf769249c517b832eb577ac2">end</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a97025affc9a97382fc4b767fe698a170">erase</a> (const <a class="el" href="a00020.html">iterator</a> &amp;__position)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erases an element from a AirFrameMatrix.  <a href="#a97025affc9a97382fc4b767fe698a170"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ec93f0a935723a0183de82969ff0d6e"></a><!-- doxytag: member="ChannelInfo::assertNoIntersections" ref="a4ec93f0a935723a0183de82969ff0d6e" args="() const " -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a4ec93f0a935723a0183de82969ff0d6e">assertNoIntersections</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Asserts that every inactive AirFrame is still intersecting with at least one active airframe or with the current record start time. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a93b197f70e37825ac3fdc760960144f5">addToInactives</a> (<a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> a, simtime_t_cref startTime, simtime_t_cref endTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Moves a previously active AirFrame to the inactive AirFrames.  <a href="#a93b197f70e37825ac3fdc760960144f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a357607c940c58843dfbaf4edf1eb3da8"></a><!-- doxytag: member="ChannelInfo::findEarliestInfoPoint" ref="a357607c940c58843dfbaf4edf1eb3da8" args="(simtime_t_cref returnTimeIfEmpty=&#45;1) const " -->
simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a357607c940c58843dfbaf4edf1eb3da8">findEarliestInfoPoint</a> (simtime_t_cref returnTimeIfEmpty=-1) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the start time of the odlest AirFrame on the channel. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a1ffb197c5bf86824cd04313da5e9e4ed">checkAndCleanInterval</a> (simtime_t_cref startTime, simtime_t_cref endTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if any information inside the passed interval can be discarded.  <a href="#a1ffb197c5bf86824cd04313da5e9e4ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#ab4da0befdce7f2b27ae4a61d66ec2167">canDiscardInterval</a> (simtime_t_cref startTime, simtime_t_cref endTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if all information inside the passed interval can be deleted.  <a href="#ab4da0befdce7f2b27ae4a61d66ec2167"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a3a3f57cc0461d0cb7b938feb58dc3947">checkAndCleanFrom</a> (simtime_t_cref start)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if any information up from the passed start time can be discarded.  <a href="#a3a3f57cc0461d0cb7b938feb58dc3947"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a1a6c5cb3fa0c170ac276687b4385a607">getIntersections</a> (const <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> &amp;airFrames, simtime_t_cref from, simtime_t_cref to, <a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">AirFrameVector</a> &amp;outVector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns every AirFrame of an AirFrameMatrix which intersect with a given interval.  <a href="#a1a6c5cb3fa0c170ac276687b4385a607"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1f58994b3a3002151389722dc311c48"></a><!-- doxytag: member="ChannelInfo::isIntersecting" ref="ac1f58994b3a3002151389722dc311c48" args="(const AirFrameMatrix &amp;airFrames, simtime_t_cref from, simtime_t_cref to)" -->
static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#ac1f58994b3a3002151389722dc311c48">isIntersecting</a> (const <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> &amp;airFrames, simtime_t_cref from, simtime_t_cref to)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if there is at least one AirFrame in the passed AirFrameMatrix which intersect with the given interval. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c021b6db89a2f805004e221dd84b3f1"></a><!-- doxytag: member="ChannelInfo::deleteAirFrame" ref="a1c021b6db89a2f805004e221dd84b3f1" args="(AirFrameMatrix &amp;airFrames, airframe_ptr_t a, simtime_t_cref startTime, simtime_t_cref endTime)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a1c021b6db89a2f805004e221dd84b3f1">deleteAirFrame</a> (<a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> &amp;airFrames, <a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> a, simtime_t_cref startTime, simtime_t_cref endTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes an AirFrame from an AirFrameMatrix. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5">activeAirFrames</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the currently active AirFrames.  <a href="#a2db96b70bb8678e3e4959985a7ef27a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#ac674b4797484960e332e260af4825c04">inactiveAirFrames</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores inactive AirFrames.  <a href="#ac674b4797484960e332e260af4825c04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c7678b4205557914b26e58edcdf44c2"></a><!-- doxytag: member="ChannelInfo::airFrameStarts" ref="a9c7678b4205557914b26e58edcdf44c2" args="" -->
<a class="el" href="a00042.html#a03476c3a3c992f5e8bb099312e601c6a">AirFrameStartMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2">airFrameStarts</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the start time of every AirFrame. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a647dc636e9aa2f8a70ac99b604336cb2"></a><!-- doxytag: member="ChannelInfo::recordStartTime" ref="a647dc636e9aa2f8a70ac99b604336cb2" args="" -->
simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2">recordStartTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores a point in history up to which we need to keep all channel information stored. <br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37ac84f95c3faeb3e2606a4a01dbf36e"></a><!-- doxytag: member="ChannelInfo::cConstItEnd" ref="a37ac84f95c3faeb3e2606a4a01dbf36e" args="" -->
static const <a class="el" href="a00020.html">const_iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a37ac84f95c3faeb3e2606a4a01dbf36e">cConstItEnd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The end iterator for the matrix. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ad62d494f91f38b3fe52963cc96fb14"></a><!-- doxytag: member="ChannelInfo::cItEnd" ref="a4ad62d494f91f38b3fe52963cc96fb14" args="" -->
static const <a class="el" href="a00020.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html#a4ad62d494f91f38b3fe52963cc96fb14">cItEnd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The end iterator for the matrix. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class is used by the <a class="el" href="a00026.html" title="The BasePhyLayer represents the physical layer of a nic.">BasePhyLayer</a> to keep track of the AirFrames on the channel. </p>
<p><a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> is able to return every AirFrame which intersects with a specified interval. This is mainly used to get the noise for a received signal.</p>
<p><a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> is a passive class meaning the user has to tell it when a new AirFrame starts and an existing ends.</p>
<p>Once an AirFrame has been added to the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> holds the ownership of this AirFrame even if the AirFrame is removed again from the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a>. This is necessary because the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> has to be able to store also the AirFrames which are over but still intersect with an currently running AirFrame.</p>
<p>Note: <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> assumes that the AirFrames are added and removed chronologically. This means every time you add an AirFrame with a specific start time <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> assumes that start time as the current time and assumes that every following action happens after that moment. The same goes for "removeAirFrame". When removing an AirFrames, <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> assumes the start time plus the duration of the AirFrame as the current time. This also affects "getAirFrames" in the way that you may only ask for intervals which lie before the "current time" of <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a>.</p>
<p>A state-machine-diagram for <a class="el" href="a00158.html" title="The class that represents the Radio as a state machine.">Radio</a>, <a class="el" href="a00159.html" title="This special AnalogueModel provides filtering of a Signal according to the actual...">RadioStateAnalogueModel</a> and <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> showing how they work together under control of <a class="el" href="a00026.html" title="The BasePhyLayer represents the physical layer of a nic.">BasePhyLayer</a> as well as some documentation on how <a class="el" href="a00159.html" title="This special AnalogueModel provides filtering of a Signal according to the actual...">RadioStateAnalogueModel</a> works is available in <a class="el" href="a00445.html">phyLayer - physical layer modules</a>. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00045">45</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a38276e993908d9ee59953d5b62da911c"></a><!-- doxytag: member="ChannelInfo::airframe_ptr_t" ref="a38276e993908d9ee59953d5b62da911c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef AirFrame* <a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">ChannelInfo::airframe_ptr_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The stored air frame pointer type </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00048">48</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

</div>
</div>
<a class="anchor" id="aba8c8f81b5fad9216a08d86de4acb070"></a><!-- doxytag: member="ChannelInfo::AirFrameMatrix" ref="aba8c8f81b5fad9216a08d86de4acb070" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;simtime_t, std::multimap&lt;simtime_t, <a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a>&gt; &gt; <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">ChannelInfo::AirFrameMatrix</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The AirFrames are stored in a Matrix with start- and end time as dimensions. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00054">54</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

</div>
</div>
<a class="anchor" id="a220306dd8d5282778f27be702d193431"></a><!-- doxytag: member="ChannelInfo::AirFrameVector" ref="a220306dd8d5282778f27be702d193431" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::list&lt;<a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a>&gt; <a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">ChannelInfo::AirFrameVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type for a container of AirFrames. </p>
<p>Used as out type for "getAirFrames" method. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00330">330</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6d92d233abde2703171773354c8689cd"></a><!-- doxytag: member="ChannelInfo::addAirFrame" ref="a6d92d233abde2703171773354c8689cd" args="(airframe_ptr_t a, simtime_t_cref startTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::addAirFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>startTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tells the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> that an AirFrame has started. </p>
<p>From this point <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> gets the ownership of the AirFrame.</p>
<p>parameter startTime holds the time the receiving of the AirFrame has started in seconds. </p>

<p>Definition at line <a class="el" href="a00261_source.html#l00009">9</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00304">activeAirFrames</a>, <a class="el" href="a00262_source.html#l00318">airFrameStarts</a>, and <a class="el" href="a00262_source.html#l00526">isChannelEmpty()</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00389">BasePhyLayer::handleAirFrameStartReceive()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00010"></a>00010 {
<a name="l00011"></a>00011   assert(<a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>.count(frame-&gt;getTreeId()) == 0);
<a name="l00012"></a>00012 
<a name="l00013"></a>00013   <span class="comment">//calculate endTime of AirFrame</span>
<a name="l00014"></a>00014   simtime_t endTime = startTime + frame-&gt;getDuration();
<a name="l00015"></a>00015 
<a name="l00016"></a>00016   AirFrameMatrix::iterator pos = <a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>.lower_bound(endTime);
<a name="l00017"></a>00017   <span class="keywordflow">if</span>(pos == <a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>.end() || (<a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>.key_comp()(endTime, pos-&gt;first))) {
<a name="l00018"></a>00018       <span class="comment">// key does not exists</span>
<a name="l00019"></a>00019     pos = <a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>.insert(pos, std::make_pair(endTime, AirFrameMatrix::mapped_type()));
<a name="l00020"></a>00020   }
<a name="l00021"></a>00021   pos-&gt;second.insert(std::make_pair(startTime, frame));
<a name="l00022"></a>00022 
<a name="l00023"></a>00023   <span class="comment">//add to start time map</span>
<a name="l00024"></a>00024   <a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>[frame-&gt;getTreeId()] = startTime;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026   assert(!<a class="code" href="a00042.html#a5af012c57b6bb9930b1634138ab65bf8" title="Returns true if there are currently no active or inactive AirFrames on the channel...">isChannelEmpty</a>());
<a name="l00027"></a>00027 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a93b197f70e37825ac3fdc760960144f5"></a><!-- doxytag: member="ChannelInfo::addToInactives" ref="a93b197f70e37825ac3fdc760960144f5" args="(airframe_ptr_t a, simtime_t_cref startTime, simtime_t_cref endTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::addToInactives </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>endTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Moves a previously active AirFrame to the inactive AirFrames. </p>
<p>This methods checks if there are some inactive AirFrames which can be deleted because the AirFrame to in-activate was the last one they intersected with. It also checks if the AirFrame to in-activate still intersect with at least one active AirFrame before it is moved to inactive AirFrames. </p>

<p>Definition at line <a class="el" href="a00261_source.html#l00029">29</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00318">airFrameStarts</a>, <a class="el" href="a00261_source.html#l00147">canDiscardInterval()</a>, <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>, and <a class="el" href="a00262_source.html#l00312">inactiveAirFrames</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00069">removeAirFrame()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00032"></a>00032 {
<a name="l00033"></a>00033   <span class="comment">// At first, check if some inactive AirFrames can be removed because the</span>
<a name="l00034"></a>00034   <span class="comment">// AirFrame to in-activate was the last one they intersected with.</span>
<a name="l00035"></a>00035   <a class="code" href="a00042.html#a1ffb197c5bf86824cd04313da5e9e4ed" title="Checks if any information inside the passed interval can be discarded.">checkAndCleanInterval</a>(startTime, endTime);
<a name="l00036"></a>00036 
<a name="l00037"></a>00037   <span class="keywordflow">if</span>(!<a class="code" href="a00042.html#ab4da0befdce7f2b27ae4a61d66ec2167" title="Returns true if all information inside the passed interval can be deleted.">canDiscardInterval</a>(startTime, endTime)) {
<a name="l00038"></a>00038     AirFrameMatrix::iterator pos = <a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.lower_bound(endTime);
<a name="l00039"></a>00039     <span class="keywordflow">if</span>(pos == <a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.end() || (<a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.key_comp()(endTime, pos-&gt;first))) {
<a name="l00040"></a>00040         <span class="comment">// key does not exists</span>
<a name="l00041"></a>00041       pos = <a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.insert(pos, std::make_pair(endTime, AirFrameMatrix::mapped_type()));
<a name="l00042"></a>00042     }
<a name="l00043"></a>00043     pos-&gt;second.insert(std::make_pair(startTime, frame));
<a name="l00044"></a>00044   }
<a name="l00045"></a>00045   <span class="keywordflow">else</span> {
<a name="l00046"></a>00046     <a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>.erase(frame-&gt;getTreeId());
<a name="l00047"></a>00047     <span class="keyword">delete</span> frame;
<a name="l00048"></a>00048   }
<a name="l00049"></a>00049 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab4da0befdce7f2b27ae4a61d66ec2167"></a><!-- doxytag: member="ChannelInfo::canDiscardInterval" ref="ab4da0befdce7f2b27ae4a61d66ec2167" args="(simtime_t_cref startTime, simtime_t_cref endTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChannelInfo::canDiscardInterval </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>endTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if all information inside the passed interval can be deleted. </p>
<p>For example this method is used to check if information for the duration of an AirFrame is needed anymore and if not the AirFrame is deleted.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>startTime</em>&nbsp;</td><td>The start time of the interval (e.g. AirFrame start) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endTime</em>&nbsp;</td><td>The end time of the interval (e.g. AirFrame end) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>returns true if any information for the passed interval can be discarded. </dd></dl>

<p>Definition at line <a class="el" href="a00261_source.html#l00147">147</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00304">activeAirFrames</a>, <a class="el" href="a00261_source.html#l00180">isIntersecting()</a>, and <a class="el" href="a00262_source.html#l00322">recordStartTime</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00029">addToInactives()</a>, and <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00149"></a>00149 {
<a name="l00150"></a>00150   assert(<a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> &gt;= 0 || <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> == -1);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">// only if it ends before the point in time we started recording or if</span>
<a name="l00153"></a>00153   <span class="comment">// we aren&apos;t recording at all and it does not intersect with any active one</span>
<a name="l00154"></a>00154   <span class="comment">// anymore this AirFrame can be deleted</span>
<a name="l00155"></a>00155   <span class="keywordflow">return</span> (<a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> &gt; endTime || <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> == -1)
<a name="l00156"></a>00156        &amp;&amp; !<a class="code" href="a00042.html#ac1f58994b3a3002151389722dc311c48" title="Returns true if there is at least one AirFrame in the passed AirFrameMatrix which...">isIntersecting</a>(<a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>, startTime, endTime);
<a name="l00157"></a>00157 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3a3f57cc0461d0cb7b938feb58dc3947"></a><!-- doxytag: member="ChannelInfo::checkAndCleanFrom" ref="a3a3f57cc0461d0cb7b938feb58dc3947" args="(simtime_t_cref start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::checkAndCleanFrom </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>start</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if any information up from the passed start time can be discarded. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>startTime</em>&nbsp;</td><td>The start of the interval to check </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00262_source.html#l00413">413</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>, and <a class="el" href="a00262_source.html#l00312">inactiveAirFrames</a>.</p>

<p>Referenced by <a class="el" href="a00262_source.html#l00504">stopRecording()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00413"></a>00413                                                {
<a name="l00414"></a>00414     <span class="comment">//nothing to do</span>
<a name="l00415"></a>00415     <span class="keywordflow">if</span>(<a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.empty())
<a name="l00416"></a>00416       <span class="keywordflow">return</span>;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418     <span class="comment">//take last ended inactive airframe as end of interval</span>
<a name="l00419"></a>00419     <a class="code" href="a00042.html#a1ffb197c5bf86824cd04313da5e9e4ed" title="Checks if any information inside the passed interval can be discarded.">checkAndCleanInterval</a>(start, <a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>.rbegin()-&gt;first);
<a name="l00420"></a>00420   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ffb197c5bf86824cd04313da5e9e4ed"></a><!-- doxytag: member="ChannelInfo::checkAndCleanInterval" ref="a1ffb197c5bf86824cd04313da5e9e4ed" args="(simtime_t_cref startTime, simtime_t_cref endTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::checkAndCleanInterval </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>endTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if any information inside the passed interval can be discarded. </p>
<p>This method should be called every time the information for a certain interval changes (AirFrame is removed or record time changed).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>startTime</em>&nbsp;</td><td>The start of the interval to check </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endTime</em>&nbsp;</td><td>The end of the interval to check </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00261_source.html#l00159">159</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00318">airFrameStarts</a>, <a class="el" href="a00261_source.html#l00147">canDiscardInterval()</a>, <a class="el" href="a00262_source.html#l00256">end()</a>, <a class="el" href="a00262_source.html#l00286">erase()</a>, and <a class="el" href="a00262_source.html#l00312">inactiveAirFrames</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00029">addToInactives()</a>, <a class="el" href="a00262_source.html#l00413">checkAndCleanFrom()</a>, and <a class="el" href="a00262_source.html#l00487">startRecording()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00161"></a>00161 {
<a name="l00162"></a>00162   <span class="comment">// get through inactive AirFrame which intersected with the passed interval</span>
<a name="l00163"></a>00163   <a class="code" href="a00042.html#afef8a1ed99d3d6ea005c5cc358dbbbbc" title="Type for a iterator over an AirFrame interval matrix.">iterator</a> itInactiveFrames(&amp;<a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>, startTime, endTime);
<a name="l00164"></a>00164   <a class="code" href="a00042.html#afef8a1ed99d3d6ea005c5cc358dbbbbc" title="Type for a iterator over an AirFrame interval matrix.">iterator</a> itEnd = <a class="code" href="a00042.html#aa372e681d453fa1725e81793cdfb4182">end</a>();
<a name="l00165"></a>00165   <span class="keywordflow">for</span> (; itInactiveFrames != itEnd;) {
<a name="l00166"></a>00166     <a class="code" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a> pInactiveFrame = itInactiveFrames-&gt;second;
<a name="l00167"></a>00167     simtime_t      currentEnd     = itInactiveFrames-&gt;first + pInactiveFrame-&gt;getDuration();
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="keywordflow">if</span>(<a class="code" href="a00042.html#ab4da0befdce7f2b27ae4a61d66ec2167" title="Returns true if all information inside the passed interval can be deleted.">canDiscardInterval</a>(itInactiveFrames-&gt;first, currentEnd)) {
<a name="l00170"></a>00170       <a class="code" href="a00042.html#a97025affc9a97382fc4b767fe698a170" title="Erases an element from a AirFrameMatrix.">erase</a>(itInactiveFrames++);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172       <a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>.erase(pInactiveFrame-&gt;getTreeId());
<a name="l00173"></a>00173       <span class="keyword">delete</span> pInactiveFrame;
<a name="l00174"></a>00174       <span class="keywordflow">continue</span>;
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176     ++itInactiveFrames;
<a name="l00177"></a>00177   }
<a name="l00178"></a>00178 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8afa15fedf769249c517b832eb577ac2"></a><!-- doxytag: member="ChannelInfo::end" ref="a8afa15fedf769249c517b832eb577ac2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00020.html">iterator</a> ChannelInfo::end </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a read/write iterator that points one past the last pair in the AirFrameMatrix. Iteration is done in ascending order according to the end, and start time. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00272">272</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00266">cItEnd</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00272"></a>00272                  {
<a name="l00273"></a>00273     <span class="keywordflow">return</span> <a class="code" href="a00042.html#a4ad62d494f91f38b3fe52963cc96fb14" title="The end iterator for the matrix.">cItEnd</a>;
<a name="l00274"></a>00274   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa372e681d453fa1725e81793cdfb4182"></a><!-- doxytag: member="ChannelInfo::end" ref="aa372e681d453fa1725e81793cdfb4182" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00020.html">const_iterator</a> ChannelInfo::end </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a read-only (constant) iterator that points one past the last pair in the AirFrameMatrix. Iteration is done in ascending order according to the end, and start time. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00256">256</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00249">cConstItEnd</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00256"></a>00256                              {
<a name="l00257"></a>00257     <span class="keywordflow">return</span> <a class="code" href="a00042.html#a37ac84f95c3faeb3e2606a4a01dbf36e" title="The end iterator for the matrix.">cConstItEnd</a>;
<a name="l00258"></a>00258   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a97025affc9a97382fc4b767fe698a170"></a><!-- doxytag: member="ChannelInfo::erase" ref="a97025affc9a97382fc4b767fe698a170" args="(const iterator &amp;__position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::erase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00020.html">iterator</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>__position</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erases an element from a AirFrameMatrix. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>An iterator pointing to the element to be erased.</td></tr>
  </table>
  </dd>
</dl>
<p>This function erases an element, pointed to by the given iterator, from a AirFrameMatrix. Note that this function only erases the element, and that if the element is itself a pointer, the pointed-to memory is not touched in any way. Managing the pointer is the user's responsibility. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00286">286</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00113">ChannelInfo::BaseIntersectionIterator&lt; C, ItMatrix, ItSubMatrix &gt;::endIt</a>, <a class="el" href="a00262_source.html#l00104">ChannelInfo::BaseIntersectionIterator&lt; C, ItMatrix, ItSubMatrix &gt;::intervals</a>, and <a class="el" href="a00262_source.html#l00116">ChannelInfo::BaseIntersectionIterator&lt; C, ItMatrix, ItSubMatrix &gt;::startIt</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00286"></a>00286                                          {
<a name="l00287"></a>00287     assert(__position.endIt   != __position.intervals-&gt;end());
<a name="l00288"></a>00288     assert(__position.startIt != __position.startItEnd);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     <span class="comment">//erase AirFrame from list</span>
<a name="l00291"></a>00291     __position.endIt-&gt;second.erase(__position.startIt);
<a name="l00292"></a>00292 
<a name="l00293"></a>00293     <span class="comment">//check if we deleted the only entry in the list</span>
<a name="l00294"></a>00294     <span class="keywordflow">if</span>(__position.endIt-&gt;second.empty()) {
<a name="l00295"></a>00295       __position.intervals-&gt;erase(__position.endIt); <span class="comment">//delete list from map</span>
<a name="l00296"></a>00296     }
<a name="l00297"></a>00297   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a76e9891245a5df7dd6bfb14e99e343e5"></a><!-- doxytag: member="ChannelInfo::getAirFrames" ref="a76e9891245a5df7dd6bfb14e99e343e5" args="(simtime_t_cref from, simtime_t_cref to, AirFrameVector &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::getAirFrames </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">AirFrameVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fills the passed AirFrameVector reference with the AirFrames which intersect with the given time interval. </p>
<p>Note: Completeness of the list of AirFrames for specific interval can only be assured if start and end point of the interval lies inside the duration of at least one currently active AirFrame. An AirFrame is called active if it has been added but not yet removed from <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a>. </p>

<p>Definition at line <a class="el" href="a00261_source.html#l00197">197</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00304">activeAirFrames</a>, <a class="el" href="a00261_source.html#l00187">getIntersections()</a>, and <a class="el" href="a00262_source.html#l00312">inactiveAirFrames</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00802">BasePhyLayer::getChannelInfo()</a>, and <a class="el" href="a00259_source.html#l00666">BasePhyLayer::~BasePhyLayer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00200"></a>00200   <span class="comment">//check for intersecting inactive AirFrames</span>
<a name="l00201"></a>00201   <a class="code" href="a00042.html#a1a6c5cb3fa0c170ac276687b4385a607" title="Returns every AirFrame of an AirFrameMatrix which intersect with a given interval...">getIntersections</a>(<a class="code" href="a00042.html#ac674b4797484960e332e260af4825c04" title="Stores inactive AirFrames.">inactiveAirFrames</a>, from, to, out);
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="comment">//check for intersecting active AirFrames</span>
<a name="l00204"></a>00204   <a class="code" href="a00042.html#a1a6c5cb3fa0c170ac276687b4385a607" title="Returns every AirFrame of an AirFrameMatrix which intersect with a given interval...">getIntersections</a>(<a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>, from, to, out);
<a name="l00205"></a>00205 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1a6c5cb3fa0c170ac276687b4385a607"></a><!-- doxytag: member="ChannelInfo::getIntersections" ref="a1a6c5cb3fa0c170ac276687b4385a607" args="(const AirFrameMatrix &amp;airFrames, simtime_t_cref from, simtime_t_cref to, AirFrameVector &amp;outVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::getIntersections </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>airFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00042.html#a220306dd8d5282778f27be702d193431">AirFrameVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outVector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns every AirFrame of an AirFrameMatrix which intersect with a given interval. </p>
<p>The intersecting AirFrames are stored in the AirFrameVector reference passed as parameter. </p>

<p>Definition at line <a class="el" href="a00261_source.html#l00187">187</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00249">cConstItEnd</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00197">getAirFrames()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00190"></a>00190 {
<a name="l00191"></a>00191   <a class="code" href="a00042.html#a684323fb3bd48d29674f5b14d7ce2f02" title="Type for a const-iterator over an AirFrame interval matrix.">const_iterator</a> itEnd = <a class="code" href="a00042.html#a37ac84f95c3faeb3e2606a4a01dbf36e" title="The end iterator for the matrix.">cConstItEnd</a>;
<a name="l00192"></a>00192   <span class="keywordflow">for</span> (<a class="code" href="a00042.html#a684323fb3bd48d29674f5b14d7ce2f02" title="Type for a const-iterator over an AirFrame interval matrix.">const_iterator</a> it(&amp;airFrames, from, to); it != itEnd; ++it) {
<a name="l00193"></a>00193     outVector.push_back(it-&gt;second);
<a name="l00194"></a>00194   }
<a name="l00195"></a>00195 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5b1b8d56aa2fa64b5d79c0cf5c3167a9"></a><!-- doxytag: member="ChannelInfo::isRecording" ref="a5b1b8d56aa2fa64b5d79c0cf5c3167a9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChannelInfo::isRecording </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> is currently recording. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> is recording </dd></dl>

<p>Definition at line <a class="el" href="a00262_source.html#l00517">517</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00322">recordStartTime</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00557">BasePhyLayer::handleChannelSenseRequest()</a>, and <a class="el" href="a00259_source.html#l00813">BasePhyLayer::sendControlMsgToMac()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00518"></a>00518   {
<a name="l00519"></a>00519     <span class="keywordflow">return</span> <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> &gt; -1;
<a name="l00520"></a>00520   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a16107643c07807685a44fc9271c9d9fd"></a><!-- doxytag: member="ChannelInfo::removeAirFrame" ref="a16107643c07807685a44fc9271c9d9fd" args="(airframe_ptr_t a, simtime_t_cref returnTimeIfEmpty=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t ChannelInfo::removeAirFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html#a38276e993908d9ee59953d5b62da911c">airframe_ptr_t</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>returnTimeIfEmpty</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tells the <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> that an AirFrame is over. </p>
<p>This does not mean that it loses ownership of the AirFrame.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current time-point from on which information concerning AirFrames is needed to be stored. </dd></dl>

<p>Definition at line <a class="el" href="a00261_source.html#l00069">69</a> of file <a class="el" href="a00261_source.html">ChannelInfo.cc</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00304">activeAirFrames</a>, <a class="el" href="a00261_source.html#l00029">addToInactives()</a>, <a class="el" href="a00262_source.html#l00318">airFrameStarts</a>, <a class="el" href="a00261_source.html#l00124">deleteAirFrame()</a>, <a class="el" href="a00261_source.html#l00051">findEarliestInfoPoint()</a>, and <a class="el" href="a00262_source.html#l00526">isChannelEmpty()</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00457">BasePhyLayer::handleAirFrameEndReceive()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {
<a name="l00071"></a>00071   assert(<a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>.count(frame-&gt;getTreeId()) &gt; 0);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073   <span class="comment">//get start of AirFrame</span>
<a name="l00074"></a>00074   simtime_t_cref startTime = <a class="code" href="a00042.html#a9c7678b4205557914b26e58edcdf44c2" title="Stores the start time of every AirFrame.">airFrameStarts</a>[frame-&gt;getTreeId()];
<a name="l00075"></a>00075 
<a name="l00076"></a>00076   <span class="comment">//calculate end time</span>
<a name="l00077"></a>00077   simtime_t      endTime   = startTime + frame-&gt;getDuration();
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   <span class="comment">//remove this AirFrame from active AirFrames</span>
<a name="l00080"></a>00080   <a class="code" href="a00042.html#a1c021b6db89a2f805004e221dd84b3f1" title="Deletes an AirFrame from an AirFrameMatrix.">deleteAirFrame</a>(<a class="code" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5" title="Stores the currently active AirFrames.">activeAirFrames</a>, frame, startTime, endTime);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   <span class="comment">//add to inactive AirFrames</span>
<a name="l00083"></a>00083   <a class="code" href="a00042.html#a93b197f70e37825ac3fdc760960144f5" title="Moves a previously active AirFrame to the inactive AirFrames.">addToInactives</a>(frame, startTime, endTime);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   <span class="comment">// Now check, whether the earliest time-point we need to store information</span>
<a name="l00087"></a>00087   <span class="comment">// for might have moved on in time, since an AirFrame has been deleted.</span>
<a name="l00088"></a>00088   <span class="keywordflow">if</span>(<a class="code" href="a00042.html#a5af012c57b6bb9930b1634138ab65bf8" title="Returns true if there are currently no active or inactive AirFrames on the channel...">isChannelEmpty</a>()) {
<a name="l00089"></a>00089     <span class="keywordflow">return</span> returnTimeIfEmpty;
<a name="l00090"></a>00090   }
<a name="l00091"></a>00091   <span class="keywordflow">return</span> <a class="code" href="a00042.html#a357607c940c58843dfbaf4edf1eb3da8" title="Returns the start time of the odlest AirFrame on the channel.">findEarliestInfoPoint</a>(returnTimeIfEmpty);
<a name="l00092"></a>00092 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abab4a17344f3b254693ed34309c6466f"></a><!-- doxytag: member="ChannelInfo::startRecording" ref="abab4a17344f3b254693ed34309c6466f" args="(simtime_t_cref start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::startRecording </td>
          <td>(</td>
          <td class="paramtype">simtime_t_cref&nbsp;</td>
          <td class="paramname"> <em>start</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tells <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> to keep from now on all channel information until the passed time in history. </p>
<p>The passed start-time should be the current simulation time, otherwise <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> can't assure that it hasn't already thrown away some information for that passed time period.</p>
<p>Subsequent calls to this method will update the recording start time and information from old start times is thrown away.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>The point in time from which to keep all channel information stored. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00262_source.html#l00487">487</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>, and <a class="el" href="a00262_source.html#l00322">recordStartTime</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00557">BasePhyLayer::handleChannelSenseRequest()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00488"></a>00488   {
<a name="l00489"></a>00489     <span class="comment">// clean up until old record start</span>
<a name="l00490"></a>00490     <span class="keywordflow">if</span>(<a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> &gt; -1) {
<a name="l00491"></a>00491       <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> = start;
<a name="l00492"></a>00492       <a class="code" href="a00042.html#a1ffb197c5bf86824cd04313da5e9e4ed" title="Checks if any information inside the passed interval can be discarded.">checkAndCleanInterval</a>(0, <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a>);
<a name="l00493"></a>00493     } <span class="keywordflow">else</span> {
<a name="l00494"></a>00494       <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> = start;
<a name="l00495"></a>00495     }
<a name="l00496"></a>00496   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a884277584d1abf73eaca5df0c61e08c9"></a><!-- doxytag: member="ChannelInfo::stopRecording" ref="a884277584d1abf73eaca5df0c61e08c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelInfo::stopRecording </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tells <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> to stop recording Information from now on. </p>
<p>Its up to <a class="el" href="a00042.html" title="This class is used by the BasePhyLayer to keep track of the AirFrames on the channel...">ChannelInfo</a> to decide when to actually throw away the information it doesn't need to store anymore now. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00504">504</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>References <a class="el" href="a00262_source.html#l00413">checkAndCleanFrom()</a>, and <a class="el" href="a00262_source.html#l00322">recordStartTime</a>.</p>

<p>Referenced by <a class="el" href="a00259_source.html#l00813">BasePhyLayer::sendControlMsgToMac()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00505"></a>00505   {
<a name="l00506"></a>00506     <span class="keywordflow">if</span>(<a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> &gt; -1) {
<a name="l00507"></a>00507       simtime_t old = <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a>;
<a name="l00508"></a>00508       <a class="code" href="a00042.html#a647dc636e9aa2f8a70ac99b604336cb2" title="Stores a point in history up to which we need to keep all channel information stored...">recordStartTime</a> = -1;
<a name="l00509"></a>00509       <a class="code" href="a00042.html#a3a3f57cc0461d0cb7b938feb58dc3947" title="Checks if any information up from the passed start time can be discarded.">checkAndCleanFrom</a>(old);
<a name="l00510"></a>00510     }
<a name="l00511"></a>00511   }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2db96b70bb8678e3e4959985a7ef27a5"></a><!-- doxytag: member="ChannelInfo::activeAirFrames" ref="a2db96b70bb8678e3e4959985a7ef27a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> <a class="el" href="a00042.html#a2db96b70bb8678e3e4959985a7ef27a5">ChannelInfo::activeAirFrames</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores the currently active AirFrames. </p>
<p>This means every AirFrame which was added but not yet removed. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00304">304</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00009">addAirFrame()</a>, <a class="el" href="a00261_source.html#l00094">assertNoIntersections()</a>, <a class="el" href="a00261_source.html#l00147">canDiscardInterval()</a>, <a class="el" href="a00261_source.html#l00051">findEarliestInfoPoint()</a>, <a class="el" href="a00261_source.html#l00197">getAirFrames()</a>, <a class="el" href="a00262_source.html#l00526">isChannelEmpty()</a>, and <a class="el" href="a00261_source.html#l00069">removeAirFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="ac674b4797484960e332e260af4825c04"></a><!-- doxytag: member="ChannelInfo::inactiveAirFrames" ref="ac674b4797484960e332e260af4825c04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00042.html#aba8c8f81b5fad9216a08d86de4acb070">AirFrameMatrix</a> <a class="el" href="a00042.html#ac674b4797484960e332e260af4825c04">ChannelInfo::inactiveAirFrames</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores inactive AirFrames. </p>
<p>This means every AirFrame which has been already removed but still is needed because it intersect with one or more active AirFrames. </p>

<p>Definition at line <a class="el" href="a00262_source.html#l00312">312</a> of file <a class="el" href="a00262_source.html">ChannelInfo.h</a>.</p>

<p>Referenced by <a class="el" href="a00261_source.html#l00029">addToInactives()</a>, <a class="el" href="a00261_source.html#l00094">assertNoIntersections()</a>, <a class="el" href="a00262_source.html#l00413">checkAndCleanFrom()</a>, <a class="el" href="a00261_source.html#l00159">checkAndCleanInterval()</a>, <a class="el" href="a00261_source.html#l00051">findEarliestInfoPoint()</a>, and <a class="el" href="a00261_source.html#l00197">getAirFrames()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/base/phyLayer/<a class="el" href="a00262_source.html">ChannelInfo.h</a></li>
<li>src/base/phyLayer/<a class="el" href="a00261_source.html">ChannelInfo.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Dec 14 16:01:49 2011 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
